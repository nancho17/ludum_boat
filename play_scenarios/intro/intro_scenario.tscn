[gd_scene load_steps=27 format=3 uid="uid://cestmq8cb5j4n"]

[ext_resource type="Script" uid="uid://bq5edjwfa2iyy" path="res://play_scenarios/wave_test.gd" id="1_kwm51"]
[ext_resource type="Environment" uid="uid://i18reu5ancuj" path="res://general/intro_enviroment.tres" id="2_jsjb0"]
[ext_resource type="Shader" uid="uid://bvogrwwn7gsyx" path="res://play_scenarios/water_wave.gdshader" id="2_v5huk"]
[ext_resource type="Script" uid="uid://ybya1hglhid" path="res://play_scenarios/water.gd" id="3_jsjb0"]
[ext_resource type="Shader" uid="uid://hplknvfbihej" path="res://play_scenarios/grid_protos.gdshader" id="4_kpapv"]
[ext_resource type="PackedScene" uid="uid://cvvgqjpep4k3t" path="res://play_scenarios/boat/cube_float.tscn" id="5_vhj5a"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_kwm51"]
auto_exposure_enabled = true
auto_exposure_speed = 1.67
dof_blur_far_distance = 44.75
dof_blur_far_transition = 3784.35
dof_blur_amount = 0.2
auto_exposure_min_sensitivity = 150.0
auto_exposure_max_sensitivity = 422.2

[sub_resource type="FastNoiseLite" id="FastNoiseLite_u81vp"]
frequency = 0.005

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_6u7fg"]
seamless = true
as_normal_map = true
noise = SubResource("FastNoiseLite_u81vp")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_mqp4i"]
noise_type = 3
seed = 2575
frequency = 0.0084

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_asux5"]
seamless = true
as_normal_map = true
noise = SubResource("FastNoiseLite_mqp4i")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_wtpit"]
noise_type = 3
seed = 1850
frequency = 0.0007
offset = Vector3(67.11, -1295.54, 0)
fractal_type = 2
fractal_gain = 0.41

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_afsxu"]
seamless = true
normalize = false
noise = SubResource("FastNoiseLite_wtpit")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_g8eo8"]
render_priority = 0
shader = ExtResource("2_v5huk")
shader_parameter/albedo = Color(0.0314664, 0.122863, 0.190393, 1)
shader_parameter/albedo2 = Color(0.553201, 0.242041, 0.641326, 1)
shader_parameter/color_deep = Color(0.073362, 0.262732, 0.227361, 1)
shader_parameter/color_shallow = Color(0.63, 0.29589, 0.1638, 1)
shader_parameter/metallic = 0.0
shader_parameter/roughness = 0.02
shader_parameter/texture_normal = SubResource("NoiseTexture2D_6u7fg")
shader_parameter/texture_normal2 = SubResource("NoiseTexture2D_asux5")
shader_parameter/wave = SubResource("NoiseTexture2D_afsxu")
shader_parameter/wave_time = 0.0
shader_parameter/wave_direction = Vector2(0.375, 0)
shader_parameter/wave_2_direction = Vector2(0.815, 0)
shader_parameter/time_scale = 0.025
shader_parameter/wave_speed = 0.23
shader_parameter/noise_scale = 54.965
shader_parameter/height_scale = 5.815
shader_parameter/beers_law = 0.595
shader_parameter/depth_offset = -0.855
shader_parameter/edge_scale = 0.1
shader_parameter/near = 0.5
shader_parameter/far = 100.0
shader_parameter/edge_color = Color(1, 0.4, 0.4, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_c3bvi"]
material = SubResource("ShaderMaterial_g8eo8")
size = Vector2(500, 500)
subdivide_width = 500
subdivide_depth = 500

[sub_resource type="BoxMesh" id="BoxMesh_wtpit"]
size = Vector3(10, 2, 5)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_afsxu"]
render_priority = 0
shader = ExtResource("4_kpapv")
shader_parameter/subdivisions = 32.0
shader_parameter/grid_width = 0.02
shader_parameter/background_color = Color(0.2, 0.2, 0.2, 1)
shader_parameter/background_color_two = Color(0.1, 0.1, 0.1, 1)
shader_parameter/grid_color = Color(0.5, 0.5, 0.5, 1)
shader_parameter/dashed_scale_x = 0.02
shader_parameter/dashed_scale_y = 0.02
shader_parameter/dashed_count_x = 1.0
shader_parameter/dashed_count_y = 1.0
shader_parameter/point_width = 0.021
shader_parameter/point_color = Color(0, 0, 0, 1)
shader_parameter/point_scale_x = 0.05
shader_parameter/point_scale_y = 0.05
shader_parameter/inside_width = 0.01
shader_parameter/inside_subdivisions = 6.0
shader_parameter/inside_color = Color(0.4, 0.4, 0.4, 1)
shader_parameter/in_dashed_scale_x = 0.3
shader_parameter/in_dashed_scale_y = 0.3
shader_parameter/in_dashed_count_x = 6.0
shader_parameter/in_dashed_count_y = 6.0

[sub_resource type="BoxShape3D" id="BoxShape3D_xvr5u"]
size = Vector3(10, 2, 5)

[sub_resource type="TextMesh" id="TextMesh_xvr5u"]
text = "Z"
pixel_size = 0.231

[sub_resource type="TextMesh" id="TextMesh_wtpit"]
text = "X"
pixel_size = 0.231

[sub_resource type="SphereShape3D" id="SphereShape3D_wtpit"]

[sub_resource type="SphereMesh" id="SphereMesh_afsxu"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wtxso"]
render_priority = 0
shader = ExtResource("4_kpapv")
shader_parameter/subdivisions = 32.0
shader_parameter/grid_width = 0.02
shader_parameter/background_color = Color(0.338279, 0.11959, 0.10047, 1)
shader_parameter/background_color_two = Color(0.162, 0.288, 0.54, 1)
shader_parameter/grid_color = Color(0.79171, 0.82, 0.2542, 1)
shader_parameter/dashed_scale_x = 0.02
shader_parameter/dashed_scale_y = 0.02
shader_parameter/dashed_count_x = 1.0
shader_parameter/dashed_count_y = 1.0
shader_parameter/point_width = 0.021
shader_parameter/point_color = Color(0, 0, 0, 1)
shader_parameter/point_scale_x = 0.05
shader_parameter/point_scale_y = 0.05
shader_parameter/inside_width = 0.01
shader_parameter/inside_subdivisions = 6.0
shader_parameter/inside_color = Color(0.4, 0.4, 0.4, 1)
shader_parameter/in_dashed_scale_x = 0.3
shader_parameter/in_dashed_scale_y = 0.3
shader_parameter/in_dashed_count_x = 6.0
shader_parameter/in_dashed_count_y = 6.0

[sub_resource type="BoxShape3D" id="BoxShape3D_wtpit"]
size = Vector3(1, 1, 3)

[sub_resource type="BoxMesh" id="BoxMesh_afsxu"]
size = Vector3(1, 1, 3)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cpoit"]
render_priority = 0
shader = ExtResource("4_kpapv")
shader_parameter/subdivisions = 32.0
shader_parameter/grid_width = 0.02
shader_parameter/background_color = Color(0.2, 0.1314, 0.102, 1)
shader_parameter/background_color_two = Color(0.31, 0.0992, 0.0992, 1)
shader_parameter/grid_color = Color(0.693865, 0.73, 0.4891, 1)
shader_parameter/dashed_scale_x = 0.02
shader_parameter/dashed_scale_y = 0.02
shader_parameter/dashed_count_x = 1.0
shader_parameter/dashed_count_y = 1.0
shader_parameter/point_width = 0.021
shader_parameter/point_color = Color(0, 0, 0, 1)
shader_parameter/point_scale_x = 0.05
shader_parameter/point_scale_y = 0.05
shader_parameter/inside_width = 0.01
shader_parameter/inside_subdivisions = 6.0
shader_parameter/inside_color = Color(0.4, 0.4, 0.4, 1)
shader_parameter/in_dashed_scale_x = 0.3
shader_parameter/in_dashed_scale_y = 0.3
shader_parameter/in_dashed_count_x = 6.0
shader_parameter/in_dashed_count_y = 6.0

[node name="IntroScene" type="Node3D"]
script = ExtResource("1_kwm51")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("2_jsjb0")
camera_attributes = SubResource("CameraAttributesPractical_kwm51")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer"]
offset_right = 20.0
offset_bottom = 20.0

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/PanelContainer/MarginContainer"]
custom_minimum_size = Vector2(100, 100)
layout_mode = 2
expand_mode = 1

[node name="Camera3D2" type="Camera3D" parent="."]
transform = Transform3D(0.734329, 0.547409, -0.401378, 0, 0.591311, 0.806444, 0.678793, -0.592195, 0.434217, -8.37983, 18.5459, 9.75255)

[node name="Camera3D3" type="Camera3D" parent="."]
transform = Transform3D(-0.991777, -0.0182625, 0.126664, 0, 0.989765, 0.142705, -0.127974, 0.141532, -0.981627, 0.851783, 4.67439, -3.61186)

[node name="Camera3D4" type="Camera3D" parent="."]
transform = Transform3D(0.95578, 0.18389, -0.229496, 0, 0.780383, 0.625303, 0.294082, -0.597652, 0.745874, -1.85082, 4.40034, 8.50055)

[node name="Camera3D5" type="Camera3D" parent="."]
transform = Transform3D(0.223205, 0.657974, -0.719201, 0, 0.737815, 0.675003, 0.974772, -0.150664, 0.164684, -9.29233, 9.07928, 6.30538)

[node name="Water" type="MeshInstance3D" parent="."]
cast_shadow = 0
mesh = SubResource("PlaneMesh_c3bvi")
script = ExtResource("3_jsjb0")

[node name="Node3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7, 0)

[node name="Boat" type="RigidBody3D" parent="Node3D"]
mass = 10.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="Node3D/Boat"]
mesh = SubResource("BoxMesh_wtpit")
surface_material_override/0 = SubResource("ShaderMaterial_afsxu")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/Boat"]
shape = SubResource("BoxShape3D_xvr5u")
debug_color = Color(0, 0.7, 0.385, 1)

[node name="RigidBody3D2" parent="Node3D" node_paths=PackedStringArray("water", "theseus_body") instance=ExtResource("5_vhj5a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, -1, -3)
water = NodePath("../../Water")
theseus_body = NodePath("../Boat")

[node name="RigidBody3D4" parent="Node3D" node_paths=PackedStringArray("water", "theseus_body") instance=ExtResource("5_vhj5a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, -3)
water = NodePath("../../Water")
theseus_body = NodePath("../Boat")

[node name="RigidBody3D6" parent="Node3D" node_paths=PackedStringArray("water", "theseus_body") instance=ExtResource("5_vhj5a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, -1, -3)
water = NodePath("../../Water")
theseus_body = NodePath("../Boat")

[node name="RigidBody3D7" parent="Node3D" node_paths=PackedStringArray("water", "theseus_body") instance=ExtResource("5_vhj5a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, -1, 3)
water = NodePath("../../Water")
theseus_body = NodePath("../Boat")

[node name="RigidBody3D5" parent="Node3D" node_paths=PackedStringArray("water", "theseus_body") instance=ExtResource("5_vhj5a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 3)
water = NodePath("../../Water")
theseus_body = NodePath("../Boat")

[node name="RigidBody3D8" parent="Node3D" node_paths=PackedStringArray("water", "theseus_body") instance=ExtResource("5_vhj5a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, -1, 3)
water = NodePath("../../Water")
theseus_body = NodePath("../Boat")

[node name="zeta" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, 3.82137e-15, 0, -4.37114e-08, 1, 8.74228e-08, 1, 4.37114e-08, 0, 3, 11)
mesh = SubResource("TextMesh_xvr5u")

[node name="equis" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 8.74228e-08, 3.82137e-15, 0, -4.37114e-08, 1, 8.74228e-08, 1, 4.37114e-08, 6, 5, -1)
mesh = SubResource("TextMesh_wtpit")

[node name="RigidBody3D" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 11, 0.120743)
mass = 30.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D"]
shape = SubResource("SphereShape3D_wtpit")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D"]
mesh = SubResource("SphereMesh_afsxu")
surface_material_override/0 = SubResource("ShaderMaterial_wtxso")

[node name="RigidBody3D2" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 12, -1.77172)
mass = 20.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D2"]
shape = SubResource("SphereShape3D_wtpit")

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D2"]
mesh = SubResource("SphereMesh_afsxu")
surface_material_override/0 = SubResource("ShaderMaterial_wtxso")

[node name="RigidBody3D3" type="RigidBody3D" parent="."]
transform = Transform3D(0.866025, 0, -0.5, 0, 1, 0, 0.5, 0, 0.866025, 3, 11, 0)
mass = 10.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="RigidBody3D3"]
shape = SubResource("BoxShape3D_wtpit")
debug_color = Color(0, 0.595, 0.7, 1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="RigidBody3D3"]
mesh = SubResource("BoxMesh_afsxu")
surface_material_override/0 = SubResource("ShaderMaterial_cpoit")
